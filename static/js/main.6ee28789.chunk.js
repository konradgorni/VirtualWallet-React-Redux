(this.webpackJsonpreactpraktyka=this.webpackJsonpreactpraktyka||[]).push([[0],{119:function(e,n,t){e.exports=t(288)},288:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(25),o=t.n(i),c=t(3),l=t(4);function u(){var e=Object(l.a)(['\n*,*::before,*::after{\n    box-sizing:border-box;\n    margin:0;\n    padding:0;\n    -webkit-font-smoothing:antialiased;\n    -moz-osx-font-smoothing:grayscale;\n}\nhtml{\n    font-size:62.5%;\n    /* 1 rem 10px */\n}\nbody{\n    font-size:1.6rem;\n    font-family:"Montserrat",sans-serif;\n}\n']);return u=function(){return e},e}var s=Object(c.b)(u()),d={bgc:"#383e56",text:"#f69e7b",color1:"#eedad1",color2:"#d4b5b0"},m=t(19),f=t(8),p=t(60);function h(){var e=Object(l.a)(["\n      height: 50px;\n      width: 200px;\n      border: 1px solid ",";\n      color: ",";\n      text-align: center;\n      line-height: 50px;\n      transition: 0.5s ease-in-out;\n      :hover {\n        background-color: ",";\n      }\n    "]);return h=function(){return e},e}function b(){var e=Object(l.a)(["\n  font-size: 25px;\n  text-decoration: none;\n  color: ",";\n\n  ","\n"]);return b=function(){return e},e}var v=Object(c.d)((function(e){e.btn;var n=Object(p.a)(e,["btn"]);return r.a.createElement(m.b,n)}))(b(),(function(e){return e.theme.color1}),(function(e){return e.btn&&Object(c.c)(h(),(function(e){return e.theme.color1}),(function(e){return e.theme.text}),(function(e){return e.theme.color1}))})),E=function(e){var n=e.to,t=e.name,a=e.btn;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(v,{btn:!0,to:n},t):r.a.createElement(v,{to:n},t))},g={mobileS:"320px",mobileM:"375px",mobileL:"425px",mobileX:"500px",tablet:"768px",laptop:"1024px",laptopL:"1440px",dekstop:"2560px"},O={mobileS:"(max-width: ".concat(g.mobileS,")"),mobileM:"(max-width: ".concat(g.mobileM,")"),mobileL:"(max-width: ".concat(g.mobileL,")"),mobileX:"(max-width: ".concat(g.mobileX,")"),tablet:"(max-width: ".concat(g.tablet,")"),laptop:"(max-width: ".concat(g.laptop,")"),laptopL:"(max-width: ".concat(g.laptopL,")"),desktop:"(max-width: ".concat(g.desktop,")"),desktopL:"(max-width: ".concat(g.desktop,")")};function w(){var e=Object(l.a)(["\n          color: white;\n        "]);return w=function(){return e},e}function j(){var e=Object(l.a)(["\n      font-size: 35px;\n    "]);return j=function(){return e},e}function x(){var e=Object(l.a)(["\n      font-size: 45px;\n    "]);return x=function(){return e},e}function y(){var e=Object(l.a)(["\n  color: ",";\n  padding: 0;\n  margin: 0;\n  font-size: 55px;\n  text-align:center;\n\n  ","\n  ","\n      ","\n"]);return y=function(){return e},e}var S=c.d.h1(y(),(function(e){return e.theme.text}),(function(e){return e.medium&&Object(c.c)(x())}),(function(e){return e.small&&Object(c.c)(j())}),(function(e){return e.white&&Object(c.c)(w())}));function A(){var e=Object(l.a)(["\n  width: 60vw;\n  height: 5vh;\n  display: flex;\n  justify-content: space-around;\n  @media "," {\n    height: 20vh;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n  }\n"]);return A=function(){return e},e}function T(){var e=Object(l.a)(["\n  padding-bottom: 5%;\n  @media "," {\n    font-size: 40px;\n  }\n"]);return T=function(){return e},e}function R(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return R=function(){return e},e}var I=c.d.div(R(),(function(e){return e.theme.bgc})),D=Object(c.d)(S)(T(),O.mobileM),_=c.d.div(A(),O.tablet),P=function(){return r.a.createElement(I,null,r.a.createElement(D,null,"VirtualWallet"),r.a.createElement(_,null,r.a.createElement(E,{btn:!0,name:"LOGIN",to:"/login"}),r.a.createElement(E,{btn:!0,name:"REGISTER",to:"/register"})))},C=t(13);function F(){var e=Object(l.a)(["\n      font-size: 35px;\n      width: 100%;\n    "]);return F=function(){return e},e}function z(){var e=Object(l.a)(["\n          font-size: 30px;\n          background-color: ",";\n          :hover {\n            color: gray;\n            cursor: pointer;\n          }\n        "]);return z=function(){return e},e}function k(){var e=Object(l.a)(["\n      font-size: 45px;\n    "]);return k=function(){return e},e}function M(){var e=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  width: 300px;\n  height: 50px;\n  border: none;\n  border-radius: 5px;\n  text-transform: uppercase;\n  font-size: 30px;\n  font-weight: bold;\n  transition: 0.5s ease-in-out;\n\n  :hover {\n    color: ",";\n    cursor: pointer;\n  }\n\n  ","\n      ","\n  ","\n"]);return M=function(){return e},e}var N=c.d.button(M(),(function(e){return e.theme.text}),(function(e){return e.theme.bgc}),(function(e){return e.theme.color1}),(function(e){return e.medium&&Object(c.c)(k())}),(function(e){return e.colorauth&&Object(c.c)(z(),(function(e){return e.theme.color1}))}),(function(e){return e.small&&Object(c.c)(F())})),L=t(45),B=t.n(L),U=(t(128),t(129),{apiKey:"AIzaSyBTCgGRhJL_qyiVfyLkmYaed_2x_YrZJzo",authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/VirtualWallet-React-Redux",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIRABASE_APP_ID:"1:864468780564:web:a73a53400631723e9d4901",REACT_APP_FIRABASE_DATABASE:"https://virtualwallet-d7cf2.firebaseio.com",REACT_APP_FIRABASE_DOMAIN:"virtualwallet-d7cf2.firebaseapp.com",REACT_APP_FIRABASE_KEY:"AIzaSyBTCgGRhJL_qyiVfyLkmYaed_2x_YrZJzo",REACT_APP_FIRABASE_MEASUREMENT_ID:"G-8X3WRFKQM2",REACT_APP_FIRABASE_PROJECT_ID:"virtualwallet-d7cf2",REACT_APP_FIRABASE_SENDER_ID:"864468780564",REACT_APP_FIRABASE_STORAGE_BUCKET:"virtualwallet-d7cf2.appspot.com"}).REACT_APP_FIRABAS_DOMAIN,databaseURL:"https://virtualwallet-d7cf2.firebaseio.com",projectId:"virtualwallet-d7cf2",storageBucket:"virtualwallet-d7cf2.appspot.com",messagingSenderId:"864468780564",appId:"1:864468780564:web:a73a53400631723e9d4901",measurementId:"G-8X3WRFKQM2"}),W=B.a.initializeApp(U);B.a.firestore();var V=B.a.auth(),G=B.a.firestore(),q=W,H=t(12);function X(){var e=Object(l.a)(["\n  color: red;\n"]);return X=function(){return e},e}function Z(){var e=Object(l.a)(["\n      width: 100%;\n    "]);return Z=function(){return e},e}function K(){var e=Object(l.a)(["\n  width: 300px;\n  height: 60px;\n  border-radius: 2px;\n  border: none;\n  padding: 15px;\n  ","\n"]);return K=function(){return e},e}var J=Object(c.d)(H.b)(K(),(function(e){return e.smallMobile&&Object(c.c)(Z())})),Y=Object(c.d)(H.a)(X());function Q(){var e=Object(l.a)(["\n  @media "," {\n    margin: 0 auto;\n  }\n"]);return Q=function(){return e},e}function $(){var e=Object(l.a)(["\n  @media "," {\n    width: 250px;\n    margin: 0 auto;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(l.a)(["\n  @media "," {\n    font-size: 40px;\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(l.a)(["\n  color: red;\n  font-size: 20px;\n  text-decoration: underline;\n"]);return ne=function(){return e},e}function te(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 45vh;\n\n  align-content: space-between;\n"]);return te=function(){return e},e}function ae(){var e=Object(l.a)(["\n  width: 40vw;\n  height: 60vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return re=function(){return e},e}var ie=c.d.div(re(),(function(e){return e.theme.bgc})),oe=c.d.div(ae()),ce=Object(c.d)(H.c)(te()),le=c.d.p(ne()),ue=Object(c.d)(S)(ee(),O.mobileM),se=Object(c.d)(J)($(),O.mobileM),de=Object(c.d)(Y)(Q(),O.mobileM),me=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),fe=new RegExp("/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,}$/i"),pe=function(){var e=Object(a.useState)(!1),n=Object(C.a)(e,2),t=n[0],i=n[1],o=Object(f.g)();return r.a.createElement(ie,null,r.a.createElement(oe,null,r.a.createElement(ue,null,"VirtualWallet"),r.a.createElement(H.d,{initialValues:{email:"",password:"",password2:""},validate:function(e){var n={};return e.email?fe.test(e.email)||(n.email="Invalid email address"):n.email="Required",e.password?me.test(e.password)||(n.password="Minimum eight characters, at least one letter, one number and one special character:"):n.password="Required",e.password2?e.password2!==e.password&&(n.password2="The passwords are not the same"):n.password2="Required",n},onSubmit:function(e,n){var t,a,r=n.setSubmitting,c=n.resetForm;t=e.email,a=e.password,q.auth().createUserWithEmailAndPassword(t,a).then((function(e){return o.push("/authpagehome/settings")})).catch((function(e){console.log(e),i(!0),setTimeout((function(){i(!1)}),4e3)})),c(),r(!1)}},(function(e){e.isSubmitting;return r.a.createElement(ce,null,t?r.a.createElement(le,null,"Email or Password is invalid.Try again"):null,r.a.createElement(se,{placeholder:"E-mail",type:"email",name:"email"}),r.a.createElement(de,{name:"email",component:"div"}),r.a.createElement(se,{placeholder:"password",type:"password",name:"password"}),r.a.createElement(de,{name:"password",component:"div"}),r.a.createElement(se,{placeholder:"Repeat password",type:"password",name:"password2"}),r.a.createElement(de,{name:"password2",component:"div"}),r.a.createElement(N,{type:"submit"},"Register"))}))))},he=t(16);function be(){var e=Object(l.a)(["\n  @media "," {\n    font-size: 40px;\n  }\n"]);return be=function(){return e},e}function ve(){var e=Object(l.a)(["\n  color: red;\n  font-size: 20px;\n  text-decoration: underline;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(l.a)(["\n  @media "," {\n    width: 250px;\n    margin: 0 auto;\n  }\n"]);return Ee=function(){return e},e}function ge(){var e=Object(l.a)(["\n  @media "," {\n    width: 250px;\n    margin: 0 auto;\n  }\n"]);return ge=function(){return e},e}function Oe(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 25vh;\n  align-content: space-between;\n"]);return Oe=function(){return e},e}function we(){var e=Object(l.a)(["\n  width: 50%;\n  height: 35vh;\n  margin: 0px auto;\n  justify-content: space-around;\n  align-items: center;\n  display: flex;\n  @media "," {\n    flex-direction: column;\n  }\n"]);return we=function(){return e},e}function je(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return je=function(){return e},e}var xe=c.d.div(je(),(function(e){return e.theme.bgc})),ye=c.d.div(we(),O.tablet),Se=Object(c.d)(H.c)(Oe()),Ae=Object(c.d)(J)(ge(),O.mobileM),Te=Object(c.d)(N)(Ee(),O.mobileM),Re=c.d.p(ve()),Ie=Object(c.d)(S)(be(),O.mobileM),De=Object(he.b)(null,(function(e){return{changeAuth:function(){return e({type:"CHANGE_STATUS"})}}}))((function(e){var n=e.changeAuth,t=Object(a.useState)(!1),i=Object(C.a)(t,2),o=i[0],c=i[1],l=Object(f.g)();return r.a.createElement(xe,null,r.a.createElement(ye,null,r.a.createElement(Ie,null,"VirtualWallet"),r.a.createElement(H.d,{initialValues:{email:"",password:""},validate:function(e){var n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,}$/i.test(e.email)||(n.email="Invalid email address"):n.email="Required",e.password||(n.password="Required"),n},onSubmit:function(e,t){var a,r,i=t.setSubmitting,o=t.resetForm;a=e.email,r=e.password,V.signInWithEmailAndPassword(a,r).then((function(e){return n(),l.push("/authpagehome/stats")})).catch((function(e){c(!0),setTimeout((function(){c(!1)}),4e3)})),o(),i(!1)}},(function(e){e.isSubmitting;return r.a.createElement(Se,null,o?r.a.createElement(Re,null,"Email or Password is invalid.Try again"):null,r.a.createElement(Ae,{placeholder:"Login",type:"email",name:"email"}),r.a.createElement(Y,{name:"email",component:"div"}),r.a.createElement(Ae,{placeholder:"password",type:"password",name:"password"}),r.a.createElement(Y,{name:"password",component:"div"}),r.a.createElement(Te,{type:"submit"},"Login"))}))))})),_e=t(27),Pe=t(58);function Ce(){var e=Object(l.a)(["\n  font-size: 55px;\n  transition: 0.5s ease-in-out;\n  @media "," {\n    font-size: 45px;\n  }\n  @media "," {\n    font-size: 35px;\n  }\n\n  :hover {\n    color: ",";\n  }\n"]);return Ce=function(){return e},e}function Fe(){var e=Object(l.a)(["\n  width: 15%;\n\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5vh 0px;\n"]);return Fe=function(){return e},e}var ze=c.d.div(Fe(),(function(e){return e.theme.bgc})),ke=Object(c.d)(Pe.a)(Ce(),O.tablet,O.mobileM,(function(e){return e.theme.color1})),Me=function(){var e=Object(f.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,null,r.a.createElement(ke,{icon:_e.g,size:"4x",color:"#eedad1"}),r.a.createElement(m.b,{to:"/authpagehome/stats"},r.a.createElement(ke,{icon:_e.c,color:"#f69e7b"})),r.a.createElement(m.b,{to:"/authpagehome/transactions"},r.a.createElement(ke,{icon:_e.b,color:"#f69e7b"})),r.a.createElement(m.b,{to:"/authpagehome/newtransaction"},r.a.createElement(ke,{icon:_e.d,color:"#f69e7b"})),r.a.createElement(m.b,{to:"/authpagehome/settings"},r.a.createElement(ke,{icon:_e.f,color:"#f69e7b"})),r.a.createElement("div",null,r.a.createElement(ke,{onClick:function(){return V.signOut(),e.push("/")},icon:_e.e,size:"3x",color:"#f69e7b"}))))},Ne=(t(134),t(135),t(59)),Le=t.n(Ne),Be=t(115),Ue=t.n(Be);function We(){var e=Object(l.a)(["\n  width: 350px;\n  height: 80px;\n  @media "," {\n    width: 85vw;\n  }\n"]);return We=function(){return e},e}function Ve(){var e=Object(l.a)(["\n  width: 100%;\n  height: 10vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n"]);return Ve=function(){return e},e}function Ge(){var e=Object(l.a)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]);return Ge=function(){return e},e}function qe(){var e=Object(l.a)(["\n  width: 100%;\n  height: 20vh;\n  display: flex;\n  justify-content: center;\n"]);return qe=function(){return e},e}function He(){var e=Object(l.a)(["\n  text-align: center;\n  color: white;\n  font-size: 45px;\n  @media "," {\n    font-size: 40px;\n  }\n"]);return He=function(){return e},e}function Xe(){var e=Object(l.a)(["\n  width: 100%;\n  height: auto;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(l.a)(["\n  transition: 0.5s ease-in-out;\n  display: block;\n  height: 30px;\n"]);return Ze=function(){return e},e}function Ke(){var e=Object(l.a)(["\n  width: 100%;\n  height: 15vh;\n  display: flex;\n  justify-content: space-between;\n\n  div {\n    display: flex;\n    align-items: center;\n\n    p {\n      display: block;\n      height: 30px;\n      line-height: 30px;\n      margin: 0;\n      padding: 0;\n    }\n  }\n"]);return Ke=function(){return e},e}function Je(){var e=Object(l.a)(["\n  width: 85vw;\n  min-height: 100vh;\n  margin-left: 15vw;\n  background-color: ",";\n  padding: 1%;\n  overflow-x: hidden;\n  @media "," {\n    padding: 0;\n  }\n"]);return Je=function(){return e},e}var Ye=c.d.div(Je(),(function(e){return e.theme.color2}),O.tablet),Qe=c.d.div(Ke()),$e=Object(c.d)(Pe.a)(Ze()),en=c.d.div(Xe()),nn=Object(c.d)(S)(He(),O.mobileL),tn=c.d.div(qe()),an=Object(c.d)(Ue.a)(Ge()),rn=c.d.div(Ve()),on=Ne.Search.SearchBar,cn=Object(c.d)(on)(We(),O.mobileX),ln=[{dataField:"id",text:"ID",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"title",text:"Title",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"cash",text:"Money",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"type",text:"Type",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"date",text:"Date",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}],un=Object(he.b)((function(e){return{userID:e.User.uid}}),null)((function(e){var n=e.userID,t=Object(a.useState)(),i=Object(C.a)(t,2),o=i[0],c=i[1],l=Object(a.useState)(0),u=Object(C.a)(l,2),s=u[0],d=u[1],m=Object(a.useState)(0),f=Object(C.a)(m,2),p=f[0],h=f[1],b=Object(a.useRef)((new Date).toLocaleDateString()),v=n;return Object(a.useEffect)((function(){null!=v&&G.collection("users").doc(v).get().then((function(e){if(e.exists){var n=e.data().transactions,t=e.data().salary,a=0,r=0;n.map((function(e){var n=e.cash;return n>0?a+=n:n<0&&(r+=n),null})),c(n),d(a+r+t),h(e.data().currency)}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,null,r.a.createElement(Qe,null,r.a.createElement("div",null,r.a.createElement($e,{icon:_e.a,size:"3x"}),r.a.createElement("p",null,b.current)),r.a.createElement("div",null,r.a.createElement($e,{icon:_e.g,size:"3x"}),r.a.createElement("p",null,s,p))),r.a.createElement(tn,null,r.a.createElement(nn,{white:!0},"Last transactions")),r.a.createElement(en,null,o?r.a.createElement(Le.a,{keyField:"id",data:o,columns:ln,search:!0},(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn,null," ",r.a.createElement(cn,Object.assign({placeholder:"Title transaction"},e.searchProps))),r.a.createElement("hr",null),r.a.createElement(an,e.baseProps))})):null)))})),sn=t(79),dn=t.n(sn),mn=t(38);t(193);function fn(){var e=Object(l.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return fn=function(){return e},e}function pn(){var e=Object(l.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return pn=function(){return e},e}function hn(){var e=Object(l.a)(["\n  text-align: center;\n  padding: 5% 0;\n  color: white;\n  @media "," {\n    font-size: 35px;\n  }\n  @media "," {\n    font-size: 35px;\n  }\n"]);return hn=function(){return e},e}function bn(){var e=Object(l.a)(["\n  width: 300px;\n  height: 60px;\n  @media "," {\n    width: 100%;\n  }\n"]);return bn=function(){return e},e}function vn(){var e=Object(l.a)(["\n  display: flex;\n  height: 35vh;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);return vn=function(){return e},e}function En(){var e=Object(l.a)(["\n  width: 85vw;\n  height: 100vh;\n  margin-left: 15vw;\n  background-color: ",";\n  overflow-x: hidden;\n"]);return En=function(){return e},e}var gn=c.d.div(En(),(function(e){return e.theme.color2})),On=Object(c.d)(H.c)(vn()),wn=c.d.select(bn(),O.mobileS),jn=Object(c.d)(S)(hn(),O.mobileS,O.mobileM),xn=Object(c.d)(N)(pn(),O.mobileS),yn=Object(c.d)(J)(fn(),O.mobileS),Sn=function(e){var n={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};"success"===e?mn.b.success("Transaction added!",{toastObject:n}):"payment"===e?mn.b.info("Montly Payment Added!",{toastObject:n}):mn.b.error("Something went wrong :<",{toastObject:n})},An=Object(he.b)((function(e){return{userId:e.User.uid}}),null)((function(e){var n=e.userId,t=function(){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<5;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},i=function(e,a,r,i){var o=G.collection("users").doc(n),c={title:e,cash:a,date:(new Date).toLocaleDateString(),type:r,id:t()};o.get().then((function(e){if(e.exists)if(!0===i){var t=new Date;t.setDate(t.getDate()+30);var a=t.toLocaleDateString();G.collection("users").doc(n).update({transactions:dn.a.firestore.FieldValue.arrayUnion(c),nextPaymentDate:a}),Sn("payment")}else!1===i&&(G.collection("users").doc(n).update({transactions:dn.a.firestore.FieldValue.arrayUnion(c),emptyTransactions:!1}),Sn("success"))})).catch((function(e){console.log(e)}))},o=n;return Object(a.useEffect)((function(){null!=o&&G.collection("users").doc(o).get().then((function(e){e.exists?function(e,n){var t=(new Date).toLocaleDateString(),a=t.substr(0,1),r=t.substr(2,2),o=e.substr(0,1),c=e.substr(2,2);a===o&&r===c&&i("Montly Payment",1*n,"INCOME",!0)}(e.data().nextPaymentDate,e.data().salary):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,null,r.a.createElement(jn,null,"Add new transaction"),r.a.createElement(H.d,{initialValues:{title:"",cash:"",type:"INCOME"},validate:function(e){var n={};return""===e.title?n.title="Required":!e.title>5&&(n.title="Min length 5 characters"),null==e.cash&&(n.cash="Required"),n},onSubmit:function(e,n){var t=n.setSubmitting,a=n.resetForm;console.log(e),i(e.title,e.cash,e.type,!1),a({title:"",cash:0,type:""}),t(!1)}},(function(e){e.isSubmitting;return r.a.createElement(On,null,r.a.createElement(yn,{placeholder:"Title transaction",type:"text",name:"title"}),r.a.createElement(Y,{name:"title",component:"div"}),r.a.createElement(yn,{placeholder:"Costs with sign -",type:"number",name:"cash"}),r.a.createElement(Y,{name:"cash",component:"div"}),r.a.createElement(H.b,{name:"type",as:wn},r.a.createElement("option",{value:"INCOME"},"INCOME"),r.a.createElement("option",{value:"BILLS"},"BILLS"),r.a.createElement("option",{value:"FOOD"},"FOOD"),r.a.createElement("option",{value:"ENTERTAINMENT"},"ENTERTAINMENT"),r.a.createElement("option",{value:"CAR"},"CAR"),r.a.createElement("option",{value:"UNEXPECTED"},"UNEXPECTED EXPENSES"),r.a.createElement("option",{value:"OTHER"},"OTHER")),r.a.createElement(xn,{onClick:i,type:"submit"},"Add"),r.a.createElement(mn.a,null))}))))})),Tn=t(80);function Rn(){var e=Object(l.a)(["\n  text-align: center;\n  padding: 5% 0;\n  @media "," {\n    font-size: 35px;\n  }\n  @media "," {\n    font-size: 32px;\n  }\n"]);return Rn=function(){return e},e}function In(){var e=Object(l.a)(["\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return In=function(){return e},e}var Dn=c.d.div(In()),_n=Object(c.d)(S)(Rn(),O.laptop,O.tablet),Pn=Object(he.b)((function(e){return{userID:e.User.uid}}),null)((function(e){var n=e.userID,t=Object(a.useState)({}),i=Object(C.a)(t,2),o=i[0],c=i[1],l=Object(a.useState)(0),u=Object(C.a)(l,2),s=u[0],d=u[1],m=Object(a.useState)(0),f=Object(C.a)(m,2),p=f[0],h=f[1],b=Object(a.useState)(!0),v=Object(C.a)(b,2),E=v[0],g=v[1],O=Object(a.useState)(!0),w=Object(C.a)(O,2),j=w[0],x=w[1],y=Object(a.useState)(!1),A=Object(C.a)(y,2),T=A[0],R=A[1];Object(a.useEffect)((function(){null!=n&&G.collection("users").doc(n).get().then((function(e){if(e.exists){var n=e.data().transactions;void 0!==e.data().emptyTransactions&&(g(e.data().emptyTransactions),x(!1));var t={INCOME:0,BILLS:0,FOOD:0,OTHER:0,CAR:0,UNEXPECTED:0,ENTERTAINMENT:0};n.map((function(e){var n=e.type;return t[n]+=1,null}));var a=0,r=0;n.map((function(e){var n=e.cash;return n>0?a+=n:n<0&&(r+=n),null})),h(r),d(a),c(t)}else alert("No found user data.")})).catch((function(e){console.error(e)}))}),[n]);var I=[],D=[];if(o!==[]){for(var _ in o)I.push(_);for(var P in o){var F=o[P];D.push(F)}}var z={labels:I,datasets:[{data:D,backgroundColor:["red","blue","yellow","green","pink","orange","dark"]}],legend:{display:!1}},k={labels:["Income","Expenses"],datasets:[{data:[s,p],backgroundColor:["red","blue","yellow","green","pink","orange","dark"]}],legend:{display:!1}},M={title:{display:!1,text:"Type of your transactions",maintainAspectRatio:!1}},N=function(){return Object(a.useEffect)((function(){var e=setTimeout((function(){R(!0)}),500);return function(){clearTimeout(e)}}),[]),T?r.a.createElement("p",null,"loading"):null};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn,null,j?r.a.createElement(N,null):E?r.a.createElement(S,{white:!0},"Add your first transaction if you want see stats."):r.a.createElement(r.a.Fragment,null,r.a.createElement(_n,{white:!0},"Your income vs expenses"),r.a.createElement(Tn.Doughnut,{data:k,options:M}),r.a.createElement(_n,{white:!0},"Type of your transactions"),r.a.createElement(Tn.Doughnut,{data:z,options:M}))))}));function Cn(){var e=Object(l.a)(["\n  font-size: 45px;\n  color: white;\n  text-align: center;\n  font-weight: bold;\n"]);return Cn=function(){return e},e}function Fn(){var e=Object(l.a)(["\n  width: 85%;\n  min-height: 100vh;\n  margin-left: 15%;\n  background-color: ",";\n"]);return Fn=function(){return e},e}var zn=c.d.div(Fn(),(function(e){return e.theme.color2})),kn=c.d.p(Cn()),Mn=function(e){e.userID;var n=Object(a.useState)(!0),t=Object(C.a)(n,2),i=t[0],o=t[1];return Object(a.useEffect)((function(){o(window.innerWidth),window.addEventListener("resize",(function(){return o(window.innerWidth)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(zn,null,i>550?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pn,null)):r.a.createElement(kn,null,"Rotate the screen to see statistic")))};function Nn(){var e=Object(l.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return Nn=function(){return e},e}function Ln(){var e=Object(l.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return Ln=function(){return e},e}function Bn(){var e=Object(l.a)(["\n  text-align: center;\n  padding: 5% 0;\n  color: white;\n  @media "," {\n    font-size: 35px;\n  }\n"]);return Bn=function(){return e},e}function Un(){var e=Object(l.a)(["\n  width: 300px;\n  height: 60px;\n  @media "," {\n    width: 100%;\n  }\n"]);return Un=function(){return e},e}function Wn(){var e=Object(l.a)(["\n  display: flex;\n  height: 35vh;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);return Wn=function(){return e},e}function Vn(){var e=Object(l.a)(["\n  width: 85vw;\n  height: 100vh;\n  margin-left: 15vw;\n  background-color: ",";\n"]);return Vn=function(){return e},e}var Gn=c.d.div(Vn(),(function(e){return e.theme.color2})),qn=Object(c.d)(H.c)(Wn()),Hn=c.d.select(Un(),O.mobileS),Xn=Object(c.d)(S)(Bn(),O.mobileS),Zn=Object(c.d)(N)(Ln(),O.mobileS),Kn=Object(c.d)(J)(Nn(),O.mobileS),Jn=Object(he.b)((function(e){return{userId:e.User.uid}}),null)((function(e){var n=e.userId,t=Object(a.useState)("PLN"),i=Object(C.a)(t,2),o=i[0],c=i[1],l=Object(f.g)();return r.a.createElement(Gn,null,r.a.createElement(Xn,null,"Configure your wallet"),r.a.createElement(H.d,{initialValues:{salary:""},validate:function(e){var n={};return e.salary||(n.salary="Required"),n},onSubmit:function(e,t){var a,r=t.setSubmitting,i=t.resetForm;a=e.salary,G.collection("users").doc(n).get().then((function(e){var t=new Date;t.setDate(t.getDate()+30);var r=t.toLocaleDateString();return e.exists?(G.collection("users").doc(n).update({salary:a,currency:o,nextPaymentDate:r}),l.push("/authpagehome/stats")):(G.collection("users").doc(n).set({salary:a,currency:o,nextPaymentDate:r,emptyTransactions:!0}),l.push("/authpagehome/stats"))})).catch((function(e){console.log("Error getting document:",e)})),i(),r(!1)}},(function(e){e.isSubmitting;return r.a.createElement(qn,null,r.a.createElement(Kn,{placeholder:"Your month salary",type:"number",name:"salary"}),r.a.createElement(Y,{name:"salary",component:"div"}),r.a.createElement(Hn,{value:o,onChange:function(e){return c(e.target.value)}},r.a.createElement("optgroup",{label:"Currency"},r.a.createElement("option",{value:"PLN"},"PLN"),r.a.createElement("option",{value:"EUR"},"EUR"),r.a.createElement("option",{value:"GBP"},"GBP"),r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"CHF"},"CHF"))),r.a.createElement(Zn,{type:"submit"},"Save"))})))})),Yn=Object(he.b)(null,(function(e){return{userInfo:function(n,t){return e(function(e,n){return{type:"ADD_INFO",email:e,uid:n}}(n,t))}}}))((function(e){var n=e.userInfo;return Object(a.useEffect)((function(){V.onAuthStateChanged((function(e){n(e.email,e.uid)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/authpagehome/stats",component:Mn}),r.a.createElement(f.b,{path:"/authpagehome/transactions",component:un}),r.a.createElement(f.b,{path:"/authpagehome/newtransaction",component:An}),r.a.createElement(f.b,{path:"/authpagehome/settings",component:Jn})))})),Qn=Object(he.b)((function(e){return{auth:e.auth.auth}}),null)((function(e){var n=e.component,t=e.path,a=e.auth,i=(Object(p.a)(e,["component","path","auth"]),a);return r.a.createElement(f.b,{path:t,render:function(e){return i?r.a.createElement(n,e):r.a.createElement(f.a,{to:"/"})}})})),$n=function(){return r.a.createElement(m.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(c.a,{theme:d},r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:P}),r.a.createElement(f.b,{path:"/register",component:pe}),r.a.createElement(f.b,{path:"/login",component:De}),r.a.createElement(Qn,{path:"/authpagehome",component:Yn})))))},et=t(116),nt=t(32),tt=t(82),at={auth:!0};var rt={email:"",uid:null};var it=Object(nt.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CHANGE_STATUS":return Object(tt.a)(Object(tt.a)({},e),{},{auth:!0});default:return e}},User:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_INFO":return{email:n.email,uid:n.uid};default:return e}}}),ot=t(117);var ct=Object(nt.createStore)(it,Object(et.composeWithDevTools)(Object(nt.applyMiddleware)(ot.a)));o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{store:ct},r.a.createElement($n,null))),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.6ee28789.chunk.js.map