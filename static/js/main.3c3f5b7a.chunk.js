(this.webpackJsonpreactpraktyka=this.webpackJsonpreactpraktyka||[]).push([[0],{121:function(e,n,t){e.exports=t(291)},291:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(25),c=t.n(i),o=t(3),u=t(4);function l(){var e=Object(u.a)(['\n*,*::before,*::after{\n    box-sizing:border-box;\n    margin:0;\n    padding:0;\n    -webkit-font-smoothing:antialiased;\n    -moz-osx-font-smoothing:grayscale;\n}\nhtml{\n    font-size:62.5%;\n    /* 1 rem 10px */\n}\nbody{\n    font-size:1.6rem;\n    font-family:"Montserrat",sans-serif;\n}\n']);return l=function(){return e},e}var s=Object(o.b)(l()),d={bgc:"#383e56",text:"#f69e7b",color1:"#eedad1",color2:"#d4b5b0"},m=t(16),f=t(10),p=t(60);function h(){var e=Object(u.a)(["\n      height: 50px;\n      width: 200px;\n      border: 1px solid ",";\n      color: ",";\n      text-align: center;\n      line-height: 50px;\n      transition: 0.5s ease-in-out;\n      :hover {\n        background-color: ",";\n      }\n    "]);return h=function(){return e},e}function b(){var e=Object(u.a)(["\n  font-size: 25px;\n  text-decoration: none;\n  color: ",";\n\n  ","\n"]);return b=function(){return e},e}var v=Object(o.d)((function(e){e.btn;var n=Object(p.a)(e,["btn"]);return r.a.createElement(m.b,n)}))(b(),(function(e){return e.theme.color1}),(function(e){return e.btn&&Object(o.c)(h(),(function(e){return e.theme.color1}),(function(e){return e.theme.text}),(function(e){return e.theme.color1}))})),g=function(e){var n=e.to,t=e.name,a=e.btn;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(v,{btn:!0,to:n},t):r.a.createElement(v,{to:n},t))},E={mobileS:"320px",mobileM:"375px",mobileL:"425px",mobileX:"500px",tablet:"768px",laptop:"1024px",laptopL:"1440px",dekstop:"2560px"},O={mobileS:"(max-width: ".concat(E.mobileS,")"),mobileM:"(max-width: ".concat(E.mobileM,")"),mobileL:"(max-width: ".concat(E.mobileL,")"),mobileX:"(max-width: ".concat(E.mobileX,")"),tablet:"(max-width: ".concat(E.tablet,")"),laptop:"(max-width: ".concat(E.laptop,")"),laptopL:"(max-width: ".concat(E.laptopL,")"),desktop:"(max-width: ".concat(E.desktop,")"),desktopL:"(max-width: ".concat(E.desktop,")")};function w(){var e=Object(u.a)(["\n          color: white;\n        "]);return w=function(){return e},e}function j(){var e=Object(u.a)(["\n      font-size: 35px;\n    "]);return j=function(){return e},e}function x(){var e=Object(u.a)(["\n      font-size: 45px;\n    "]);return x=function(){return e},e}function y(){var e=Object(u.a)(["\n  color: ",";\n  padding: 0;\n  margin: 0;\n  font-size: 55px;\n  text-align:center;\n\n  ","\n  ","\n      ","\n"]);return y=function(){return e},e}var S=o.d.h1(y(),(function(e){return e.theme.text}),(function(e){return e.medium&&Object(o.c)(x())}),(function(e){return e.small&&Object(o.c)(j())}),(function(e){return e.white&&Object(o.c)(w())}));function A(){var e=Object(u.a)(["\n  width: 60vw;\n  height: 5vh;\n  display: flex;\n  justify-content: space-around;\n  @media "," {\n    height: 20vh;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n  }\n"]);return A=function(){return e},e}function T(){var e=Object(u.a)(["\n  padding-bottom: 5%;\n  @media "," {\n    font-size: 40px;\n  }\n"]);return T=function(){return e},e}function R(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return R=function(){return e},e}var D=o.d.div(R(),(function(e){return e.theme.bgc})),I=Object(o.d)(S)(T(),O.mobileM),_=o.d.div(A(),O.tablet),P=function(){return r.a.createElement(D,null,r.a.createElement(I,null,"VirtualWallet"),r.a.createElement(_,null,r.a.createElement(g,{btn:!0,name:"LOGIN",to:"/login"}),r.a.createElement(g,{btn:!0,name:"REGISTER",to:"/register"})))},C=t(9);function L(){var e=Object(u.a)(["\n      font-size: 35px;\n      width: 100%;\n    "]);return L=function(){return e},e}function k(){var e=Object(u.a)(["\n          font-size: 30px;\n          background-color: ",";\n          :hover {\n            color: gray;\n            cursor: pointer;\n          }\n        "]);return k=function(){return e},e}function z(){var e=Object(u.a)(["\n      font-size: 45px;\n    "]);return z=function(){return e},e}function F(){var e=Object(u.a)(["\n  background-color: ",";\n  color: ",";\n  width: 300px;\n  height: 50px;\n  border: none;\n  border-radius: 5px;\n  text-transform: uppercase;\n  font-size: 30px;\n  font-weight: bold;\n  transition: 0.5s ease-in-out;\n\n  :hover {\n    color: ",";\n    cursor: pointer;\n  }\n\n  ","\n      ","\n  ","\n"]);return F=function(){return e},e}var M=o.d.button(F(),(function(e){return e.theme.text}),(function(e){return e.theme.bgc}),(function(e){return e.theme.color1}),(function(e){return e.medium&&Object(o.c)(z())}),(function(e){return e.colorauth&&Object(o.c)(k(),(function(e){return e.theme.color1}))}),(function(e){return e.small&&Object(o.c)(L())})),N=t(45),B=t.n(N),U=(t(130),t(131),{apiKey:"AIzaSyBTCgGRhJL_qyiVfyLkmYaed_2x_YrZJzo",authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/VirtualWallet-React-Redux",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIRABASE_APP_ID:"1:864468780564:web:a73a53400631723e9d4901",REACT_APP_FIRABASE_DATABASE:"https://virtualwallet-d7cf2.firebaseio.com",REACT_APP_FIRABASE_DOMAIN:"virtualwallet-d7cf2.firebaseapp.com",REACT_APP_FIRABASE_KEY:"AIzaSyBTCgGRhJL_qyiVfyLkmYaed_2x_YrZJzo",REACT_APP_FIRABASE_MEASUREMENT_ID:"G-8X3WRFKQM2",REACT_APP_FIRABASE_PROJECT_ID:"virtualwallet-d7cf2",REACT_APP_FIRABASE_SENDER_ID:"864468780564",REACT_APP_FIRABASE_STORAGE_BUCKET:"virtualwallet-d7cf2.appspot.com"}).REACT_APP_FIRABAS_DOMAIN,databaseURL:"https://virtualwallet-d7cf2.firebaseio.com",projectId:"virtualwallet-d7cf2",storageBucket:"virtualwallet-d7cf2.appspot.com",messagingSenderId:"864468780564",appId:"1:864468780564:web:a73a53400631723e9d4901",measurementId:"G-8X3WRFKQM2"}),V=B.a.initializeApp(U);B.a.firestore();var W=B.a.auth(),q=B.a.firestore(),G=V,H=t(8);function X(){var e=Object(u.a)(["\n  color: red;\n"]);return X=function(){return e},e}function Z(){var e=Object(u.a)(["\n      width: 100%;\n    "]);return Z=function(){return e},e}function K(){var e=Object(u.a)(["\n  width: 300px;\n  height: 60px;\n  border-radius: 2px;\n  border: none;\n  padding: 15px;\n  ","\n"]);return K=function(){return e},e}var Y=Object(o.d)(H.b)(K(),(function(e){return e.smallMobile&&Object(o.c)(Z())})),J=Object(o.d)(H.a)(X());function Q(){var e=Object(u.a)(["\n  @media "," {\n    margin: 0 auto;\n  }\n"]);return Q=function(){return e},e}function $(){var e=Object(u.a)(["\n  @media "," {\n    width: 250px;\n    margin: 0 auto;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["\n  @media "," {\n    font-size: 40px;\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(u.a)(["\n  color: red;\n  font-size: 20px;\n  text-decoration: underline;\n"]);return ne=function(){return e},e}function te(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 45vh;\n\n  align-content: space-between;\n"]);return te=function(){return e},e}function ae(){var e=Object(u.a)(["\n  width: 40vw;\n  height: 60vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ae=function(){return e},e}function re(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return re=function(){return e},e}var ie=o.d.div(re(),(function(e){return e.theme.bgc})),ce=o.d.div(ae()),oe=Object(o.d)(H.c)(te()),ue=o.d.p(ne()),le=Object(o.d)(S)(ee(),O.mobileM),se=Object(o.d)(Y)($(),O.mobileM),de=Object(o.d)(J)(Q(),O.mobileM),me=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),fe=function(){var e=Object(a.useState)(!1),n=Object(C.a)(e,2),t=n[0],i=n[1],c=Object(f.g)();return r.a.createElement(ie,null,r.a.createElement(ce,null,r.a.createElement(le,null,"VirtualWallet"),r.a.createElement(H.d,{initialValues:{email:"",password:"",password2:""},validate:function(e){var n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,}$/i.test(e.email)||(n.email="Invalid email address"):n.email="Required",e.password?me.test(e.password)||(n.password="Minimum eight characters, at least one letter, one number and one special character:"):n.password="Required",e.password2?e.password2!==e.password&&(n.password2="The passwords are not the same"):n.password2="Required",n},onSubmit:function(e,n){var t,a,r=n.setSubmitting,o=n.resetForm;t=e.email,a=e.password,G.auth().createUserWithEmailAndPassword(t,a).then((function(e){return c.push("/authpagehome/firstuserwallet")})).catch((function(e){console.log(e),i(!0),setTimeout((function(){i(!1)}),4e3)})),o(),r(!1)}},(function(e){e.isSubmitting;return r.a.createElement(oe,null,t?r.a.createElement(ue,null,"Email or Password is invalid.Try again"):null,r.a.createElement(se,{placeholder:"E-mail",type:"email",name:"email"}),r.a.createElement(de,{name:"email",component:"div"}),r.a.createElement(se,{placeholder:"password",type:"password",name:"password"}),r.a.createElement(de,{name:"password",component:"div"}),r.a.createElement(se,{placeholder:"Repeat password",type:"password",name:"password2"}),r.a.createElement(de,{name:"password2",component:"div"}),r.a.createElement(M,{type:"submit"},"Register"))}))))},pe=t(15);function he(){var e=Object(u.a)(["\n  @media "," {\n    font-size: 40px;\n  }\n"]);return he=function(){return e},e}function be(){var e=Object(u.a)(["\n  color: red;\n  font-size: 20px;\n  text-decoration: underline;\n"]);return be=function(){return e},e}function ve(){var e=Object(u.a)(["\n  @media "," {\n    width: 250px;\n    margin: 0 auto;\n  }\n"]);return ve=function(){return e},e}function ge(){var e=Object(u.a)(["\n  @media "," {\n    width: 250px;\n    margin: 0 auto;\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 25vh;\n  align-content: space-between;\n  @media "," {\n    height: 30vh;\n  }\n  @media "," {\n    height: 35vh;\n  }\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  width: 50%;\n  height: 45vh;\n  margin: 0px auto;\n  justify-content: space-around;\n  align-items: center;\n  display: flex;\n\n  @media "," {\n    width: 80%;\n  }\n  @media "," {\n    width: 100%;\n  }\n  @media "," {\n    flex-direction: column;\n  }\n"]);return Oe=function(){return e},e}function we(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return we=function(){return e},e}var je=o.d.div(we(),(function(e){return e.theme.bgc})),xe=o.d.div(Oe(),O.laptopL,O.laptopL,O.tablet),ye=Object(o.d)(H.c)(Ee(),O.mobileM,O.mobileS),Se=Object(o.d)(Y)(ge(),O.mobileM),Ae=Object(o.d)(M)(ve(),O.mobileM),Te=o.d.p(be()),Re=Object(o.d)(S)(he(),O.mobileM),De=Object(pe.b)(null,(function(e){return{changeAuth:function(){return e({type:"CHANGE_STATUS"})}}}))((function(e){var n=e.changeAuth,t=Object(a.useState)(!1),i=Object(C.a)(t,2),c=i[0],o=i[1],u=Object(f.g)();return r.a.createElement(je,null,r.a.createElement(xe,null,r.a.createElement(Re,null,"VirtualWallet"),r.a.createElement(H.d,{initialValues:{email:"",password:""},validate:function(e){var n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,}$/i.test(e.email)||(n.email="Invalid email address"):n.email="Required",e.password||(n.password="Required"),n},onSubmit:function(e,t){var a,r,i=t.setSubmitting,c=t.resetForm;a=e.email,r=e.password,W.signInWithEmailAndPassword(a,r).then((function(e){return n(),u.push("/authpagehome/stats")})).catch((function(e){o(!0),setTimeout((function(){o(!1)}),4e3)})),c(),i(!1)}},(function(e){e.isSubmitting;return r.a.createElement(ye,null,c?r.a.createElement(Te,null,"Email or Password is invalid.Try again"):null,r.a.createElement(Se,{placeholder:"Login",type:"email",name:"email"}),r.a.createElement(J,{name:"email",component:"div"}),r.a.createElement(Se,{placeholder:"password",type:"password",name:"password"}),r.a.createElement(J,{name:"password",component:"div"}),r.a.createElement(Ae,{type:"submit"},"Login"))}))))})),Ie=t(27),_e=t(58);function Pe(){var e=Object(u.a)(["\n  font-size: 55px;\n  transition: 0.5s ease-in-out;\n  @media "," {\n    font-size: 45px;\n  }\n  @media "," {\n    font-size: 35px;\n  }\n\n  :hover {\n    color: ",";\n  }\n"]);return Pe=function(){return e},e}function Ce(){var e=Object(u.a)(["\n  width: 15%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding: 5vh 0px;\n"]);return Ce=function(){return e},e}var Le=o.d.div(Ce(),(function(e){return e.theme.bgc})),ke=Object(o.d)(_e.a)(Pe(),O.tablet,O.mobileM,(function(e){return e.theme.color1})),ze=function(){var e=Object(f.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null,r.a.createElement(ke,{icon:Ie.g,size:"4x",color:"#eedad1"}),r.a.createElement(m.b,{to:"/authpagehome/stats"},r.a.createElement(ke,{icon:Ie.c,color:"#f69e7b"})),r.a.createElement(m.b,{to:"/authpagehome/transactions"},r.a.createElement(ke,{icon:Ie.b,color:"#f69e7b"})),r.a.createElement(m.b,{to:"/authpagehome/newtransaction"},r.a.createElement(ke,{icon:Ie.d,color:"#f69e7b"})),r.a.createElement(m.b,{to:"/authpagehome/settings"},r.a.createElement(ke,{icon:Ie.f,color:"#f69e7b"})),r.a.createElement("div",null,r.a.createElement(m.b,null,r.a.createElement(ke,{onClick:function(){return W.signOut(),e.push("/")},icon:Ie.e,size:"3x",color:"#f69e7b"})))))},Fe=(t(136),t(137),t(59)),Me=t.n(Fe),Ne=t(79),Be=t.n(Ne),Ue=t(116),Ve=function(){var e=Object(Ue.a)(Be.a.mark((function e(n){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=q.collection("users").doc(n),e.abrupt("return",t.get().then((function(e){if(e.exists)return e.data();console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),We=t(117),qe=t.n(We);function Ge(){var e=Object(u.a)(["\n  width: 350px;\n  height: 80px;\n  @media "," {\n    width: 85vw;\n  }\n"]);return Ge=function(){return e},e}function He(){var e=Object(u.a)(["\n  width: 100%;\n  height: 10vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n"]);return He=function(){return e},e}function Xe(){var e=Object(u.a)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(u.a)(["\n  width: 100%;\n  height: 20vh;\n  display: flex;\n  justify-content: center;\n"]);return Ze=function(){return e},e}function Ke(){var e=Object(u.a)(["\n  text-align: center;\n  color: white;\n  font-size: 45px;\n  @media "," {\n    font-size: 40px;\n  }\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(u.a)(["\n  width: 100%;\n  height: auto;\n"]);return Ye=function(){return e},e}function Je(){var e=Object(u.a)(["\n  transition: 0.5s ease-in-out;\n  display: block;\n  height: 30px;\n"]);return Je=function(){return e},e}function Qe(){var e=Object(u.a)(["\n  width: 100%;\n  height: 15vh;\n  display: flex;\n  justify-content: space-between;\n\n  div {\n    display: flex;\n    align-items: center;\n\n    p {\n      display: block;\n      height: 30px;\n      line-height: 30px;\n      margin: 0;\n      padding: 0;\n    }\n  }\n"]);return Qe=function(){return e},e}function $e(){var e=Object(u.a)(["\n  width: 85vw;\n  min-height: 100vh;\n  margin-left: 15vw;\n  background-color: ",";\n  padding: 1%;\n  overflow-x: hidden;\n  @media "," {\n    padding: 0;\n  }\n"]);return $e=function(){return e},e}var en=o.d.div($e(),(function(e){return e.theme.color2}),O.tablet),nn=o.d.div(Qe()),tn=Object(o.d)(_e.a)(Je()),an=o.d.div(Ye()),rn=Object(o.d)(S)(Ke(),O.mobileL),cn=o.d.div(Ze()),on=Object(o.d)(qe.a)(Xe()),un=o.d.div(He()),ln=Fe.Search.SearchBar,sn=Object(o.d)(ln)(Ge(),O.mobileX),dn=[{dataField:"id",text:"ID",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"title",text:"Title",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"cash",text:"Money",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"type",text:"Type",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},{dataField:"date",text:"Date",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}],mn=Object(pe.b)((function(e){return{userID:e.User.uid}}),null)((function(e){var n=e.userID,t=Object(a.useState)(),i=Object(C.a)(t,2),c=i[0],o=i[1],u=Object(a.useState)(0),l=Object(C.a)(u,2),s=l[0],d=l[1],m=Object(a.useState)(0),f=Object(C.a)(m,2),p=f[0],h=f[1],b=Object(a.useRef)((new Date).toLocaleDateString());return Object(a.useEffect)((function(){null!=n&&Ve(n).then((function(e){var n=e.transactions,t=e.salary,a=0,r=0;n.map((function(e){var n=e.cash;return n>0?a+=n:n<0&&(r+=n),null})),o(n.reverse().slice(0,5)),d(a+r+t),h(e.currency)}))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(en,null,r.a.createElement(nn,null,r.a.createElement("div",null,r.a.createElement(tn,{icon:Ie.a,size:"3x"}),r.a.createElement("p",null,b.current)),r.a.createElement("div",null,r.a.createElement(tn,{icon:Ie.g,size:"3x"}),r.a.createElement("p",null,s,p))),r.a.createElement(cn,null,r.a.createElement(rn,{white:!0},"Last transactions")),r.a.createElement(an,null,c?r.a.createElement(Me.a,{keyField:"id",data:c,columns:dn,search:!0},(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(un,null," ",r.a.createElement(sn,Object.assign({placeholder:"Title transaction"},e.searchProps))),r.a.createElement("hr",null),r.a.createElement(on,e.baseProps),0===c.length?r.a.createElement("p",null,"Add first transaction"):null)})):r.a.createElement("p",null,"Loading..."))))})),fn=t(80),pn=t.n(fn),hn=t(38);t(196);function bn(){var e=Object(u.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return bn=function(){return e},e}function vn(){var e=Object(u.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return vn=function(){return e},e}function gn(){var e=Object(u.a)(["\n  text-align: center;\n  padding: 5% 0;\n  color: white;\n  @media "," {\n    font-size: 35px;\n  }\n  @media "," {\n    font-size: 35px;\n  }\n"]);return gn=function(){return e},e}function En(){var e=Object(u.a)(["\n  width: 300px;\n  height: 60px;\n  @media "," {\n    width: 100%;\n  }\n"]);return En=function(){return e},e}function On(){var e=Object(u.a)(["\n  display: flex;\n  height: 60vh;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);return On=function(){return e},e}function wn(){var e=Object(u.a)(["\n  width: 85vw;\n  height: 100vh;\n  margin-left: 15vw;\n  background-color: ",";\n  overflow-x: hidden;\n"]);return wn=function(){return e},e}var jn=o.d.div(wn(),(function(e){return e.theme.color2})),xn=Object(o.d)(H.c)(On()),yn=o.d.select(En(),O.mobileS),Sn=Object(o.d)(S)(gn(),O.mobileS,O.mobileM),An=Object(o.d)(M)(vn(),O.mobileS),Tn=Object(o.d)(Y)(bn(),O.mobileS),Rn=function(e){var n={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};"success"===e?hn.b.success("Transaction added!",{toastObject:n}):"payment"===e?hn.b.info("Montly Payment Added!",{toastObject:n}):hn.b.error("Something went wrong :<",{toastObject:n})},Dn=Object(pe.b)((function(e){return{userId:e.User.uid}}),null)((function(e){var n=e.userId,t=function(){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<5;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},i=function(e,a,r,i){var c=q.collection("users").doc(n),o={title:e,cash:a,date:(new Date).toLocaleDateString(),type:r,id:t()};c.get().then((function(e){if(e.exists)if(!0===i){var t=new Date;t.setDate(t.getDate()+30);var a=t.toLocaleDateString();q.collection("users").doc(n).update({transactions:pn.a.firestore.FieldValue.arrayUnion(o),nextPaymentDate:a}),Rn("payment")}else!1===i&&(q.collection("users").doc(n).update({transactions:pn.a.firestore.FieldValue.arrayUnion(o),emptyTransactions:!1}),Rn("success"))})).catch((function(e){console.log(e)}))},c=n;return Object(a.useEffect)((function(){null!=c&&q.collection("users").doc(c).get().then((function(e){e.exists?function(e,n){var t=(new Date).toLocaleDateString(),a=t.substr(0,1),r=t.substr(2,2),c=e.substr(0,1),o=e.substr(2,2);a===c&&r===o&&i("Montly Payment",1*n,"INCOME",!0)}(e.data().nextPaymentDate,e.data().salary):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(jn,null,r.a.createElement(Sn,null,"Add new transaction"),r.a.createElement(H.d,{initialValues:{title:"",cash:"",type:"INCOME"},validate:function(e){var n={};return""===e.title?n.title="Required":!e.title>5&&(n.title="Min length 5 characters"),null==e.cash&&(n.cash="Required"),n},onSubmit:function(e,n){var t=n.setSubmitting,a=n.resetForm;console.log(e),i(e.title,e.cash,e.type,!1),a({title:"",cash:0,type:""}),t(!1)}},(function(e){e.isSubmitting;return r.a.createElement(xn,null,r.a.createElement(Tn,{placeholder:"Title transaction",type:"text",name:"title"}),r.a.createElement(J,{name:"title",component:"div"}),r.a.createElement(Tn,{placeholder:"Costs with sign -",type:"number",name:"cash"}),r.a.createElement(J,{name:"cash",component:"div"}),r.a.createElement(H.b,{name:"type",as:yn},r.a.createElement("option",{value:"INCOME"},"INCOME"),r.a.createElement("option",{value:"BILLS"},"BILLS"),r.a.createElement("option",{value:"FOOD"},"FOOD"),r.a.createElement("option",{value:"ENTERTAINMENT"},"ENTERTAINMENT"),r.a.createElement("option",{value:"CAR"},"CAR"),r.a.createElement("option",{value:"UNEXPECTED"},"UNEXPECTED EXPENSES"),r.a.createElement("option",{value:"OTHER"},"OTHER")),r.a.createElement(An,{onClick:i,type:"submit"},"Add"),r.a.createElement(hn.a,null))}))))})),In=t(81);function _n(){var e=Object(u.a)(["\n  text-align: center;\n  padding: 5% 0;\n  @media "," {\n    font-size: 35px;\n  }\n  @media "," {\n    font-size: 32px;\n  }\n"]);return _n=function(){return e},e}function Pn(){var e=Object(u.a)(["\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Pn=function(){return e},e}var Cn=o.d.div(Pn()),Ln=Object(o.d)(S)(_n(),O.laptop,O.tablet),kn=function(e){var n=e.isLoadingVisible,t=e.changeLoadingVisible;return Object(a.useEffect)((function(){var e=setTimeout((function(){t()}),500);return function(){clearTimeout(e)}}),[]),n?r.a.createElement("p",null,"loading"):null},zn=Object(pe.b)((function(e){return{userID:e.User.uid}}),null)((function(e){var n=e.userID,t=Object(a.useState)({}),i=Object(C.a)(t,2),c=i[0],o=i[1],u=Object(a.useState)(0),l=Object(C.a)(u,2),s=l[0],d=l[1],m=Object(a.useState)(0),f=Object(C.a)(m,2),p=f[0],h=f[1],b=Object(a.useState)(!0),v=Object(C.a)(b,2),g=v[0],E=v[1],O=Object(a.useState)(!0),w=Object(C.a)(O,2),j=w[0],x=w[1],y=Object(a.useState)(!1),A=Object(C.a)(y,2),T=(A[0],A[1]);Object(a.useEffect)((function(){null!==n&&Ve(n).then((function(e){var n=e.transactions,t=e.emptyTransactions;if(void 0!==t&&(E(e.emptyTransactions),x(!1)),!1===t){var a={INCOME:0,BILLS:0,FOOD:0,OTHER:0,CAR:0,UNEXPECTED:0,ENTERTAINMENT:0};n.map((function(e){var n=e.type;return a[n]+=1,null}));var r=0,i=0;n.map((function(e){var n=e.cash;return n>0?r+=n:n<0&&(i+=n),null})),h(i),d(r),o(a)}}))}));var R=[],D=[];if(c!==[]){for(var I in c)R.push(I);for(var _ in c){var P=c[_];D.push(P)}}var L={labels:R,datasets:[{data:D,backgroundColor:["red","blue","yellow","green","pink","orange","dark"]}],legend:{display:!1}},k={labels:["Income","Expenses"],datasets:[{data:[s,p],backgroundColor:["red","blue","yellow","green","pink","orange","dark"]}],legend:{display:!1}},z={title:{display:!1,text:"Type of your transactions",maintainAspectRatio:!1}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,null,j?r.a.createElement(kn,{isLoadingVisible:!0,changeLoadingVisible:function(){T(!0)}}):g?r.a.createElement(S,{white:!0},"Add your first transaction if you want see stats."):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln,{white:!0},"Your income vs expenses"),r.a.createElement(In.Doughnut,{data:k,options:z}),r.a.createElement(Ln,{white:!0},"Type of your transactions"),r.a.createElement(In.Doughnut,{data:L,options:z}))))}));function Fn(){var e=Object(u.a)(["\n  font-size: 45px;\n  color: white;\n  text-align: center;\n  font-weight: bold;\n"]);return Fn=function(){return e},e}function Mn(){var e=Object(u.a)(["\n  width: 85%;\n  min-height: 100vh;\n  margin-left: 15%;\n  background-color: ",";\n"]);return Mn=function(){return e},e}var Nn=o.d.div(Mn(),(function(e){return e.theme.color2})),Bn=o.d.p(Fn()),Un=function(){var e=Object(a.useState)(),n=Object(C.a)(e,2),t=n[0],i=n[1];return Object(a.useEffect)((function(){function e(){i(window.innerWidth)}return i(window.innerWidth),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,null,t>550?r.a.createElement(r.a.Fragment,null,r.a.createElement(zn,null)):r.a.createElement(Bn,null,"Rotate the screen to see statistic")))};function Vn(){var e=Object(u.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return Vn=function(){return e},e}function Wn(){var e=Object(u.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return Wn=function(){return e},e}function qn(){var e=Object(u.a)(["\n  text-align: center;\n  padding: 5% 0;\n  color: white;\n  @media "," {\n    font-size: 35px;\n  }\n"]);return qn=function(){return e},e}function Gn(){var e=Object(u.a)(["\n  width: 300px;\n  height: 60px;\n  @media "," {\n    width: 100%;\n  }\n"]);return Gn=function(){return e},e}function Hn(){var e=Object(u.a)(["\n  display: flex;\n  height: 35vh;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);return Hn=function(){return e},e}function Xn(){var e=Object(u.a)(["\n  width: 85vw;\n  height: 100vh;\n  margin-left: 15vw;\n  background-color: ",";\n"]);return Xn=function(){return e},e}var Zn=o.d.div(Xn(),(function(e){return e.theme.color2})),Kn=Object(o.d)(H.c)(Hn()),Yn=o.d.select(Gn(),O.mobileS),Jn=Object(o.d)(S)(qn(),O.mobileS),Qn=Object(o.d)(M)(Wn(),O.mobileS),$n=Object(o.d)(Y)(Vn(),O.mobileS),et=["PLN","EUR","GBP","USD","CH"],nt=Object(pe.b)((function(e){return{userId:e.User.uid}}),null)((function(e){var n=e.userId,t=Object(a.useState)("PLN"),i=Object(C.a)(t,2),c=i[0],o=i[1],u=Object(f.g)();return r.a.createElement(Zn,null,r.a.createElement(Jn,null,"Configure your wallet"),r.a.createElement(H.d,{initialValues:{salary:""},validate:function(e){var n={};return e.salary||(n.salary="Required"),n},onSubmit:function(e,t){var a,r=t.setSubmitting,i=t.resetForm;a=e.salary,q.collection("users").doc(n).get().then((function(e){var t=new Date;t.setDate(t.getDate()+30);var r=t.toLocaleDateString();return e.exists?(q.collection("users").doc(n).update({salary:a,currency:c,nextPaymentDate:r}),u.push("/authpagehome/stats")):(q.collection("users").doc(n).set({salary:a,currency:c,nextPaymentDate:r,emptyTransactions:!0,transactions:[]}),u.push("/authpagehome/stats"))})).catch((function(e){console.log("Error getting document:",e)})),i(),r(!1)}},(function(e){e.isSubmitting;return r.a.createElement(Kn,null,r.a.createElement($n,{placeholder:"Your month salary",type:"number",name:"salary"}),r.a.createElement(J,{name:"salary",component:"div"}),r.a.createElement(Yn,{value:c,onChange:function(e){return o(e.target.value)}},r.a.createElement("optgroup",{label:"Currency"},et.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(Qn,{type:"submit"},"Save"))})))}));function tt(){var e=Object(u.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return tt=function(){return e},e}function at(){var e=Object(u.a)(["\n  @media "," {\n    width: 100%;\n  }\n"]);return at=function(){return e},e}function rt(){var e=Object(u.a)(["\n  text-align: center;\n  padding: 5% 0;\n  color: white;\n  @media "," {\n    font-size: 35px;\n  }\n"]);return rt=function(){return e},e}function it(){var e=Object(u.a)(["\n  width: 300px;\n  height: 60px;\n  @media "," {\n    width: 100%;\n  }\n"]);return it=function(){return e},e}function ct(){var e=Object(u.a)(["\n  display: flex;\n  height: 35vh;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]);return ct=function(){return e},e}function ot(){var e=Object(u.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: ",";\n  z-index: 1022;\n"]);return ot=function(){return e},e}var ut=o.d.div(ot(),(function(e){return e.theme.color2})),lt=Object(o.d)(H.c)(ct()),st=o.d.select(it(),O.mobileS),dt=Object(o.d)(S)(rt(),O.mobileS),mt=Object(o.d)(M)(at(),O.mobileS),ft=Object(o.d)(Y)(tt(),O.mobileS),pt=["PLN","EUR","GBP","USD","CH"],ht=Object(pe.b)((function(e){return{userId:e.User.uid}}),null)((function(e){var n=e.userId,t=Object(a.useState)("PLN"),i=Object(C.a)(t,2),c=i[0],o=i[1],u=Object(f.g)();return r.a.createElement(ut,null,r.a.createElement(dt,null,"Configure your wallet"),r.a.createElement(H.d,{initialValues:{salary:""},validate:function(e){var n={};return e.salary||(n.salary="Required"),n},onSubmit:function(e,t){var a,r=t.setSubmitting,i=t.resetForm;a=e.salary,q.collection("users").doc(n).get().then((function(e){var t=new Date;t.setDate(t.getDate()+30);var r=t.toLocaleDateString();return e.exists?(q.collection("users").doc(n).update({salary:a,currency:c,nextPaymentDate:r}),u.push("/authpagehome/stats")):(q.collection("users").doc(n).set({salary:a,currency:c,nextPaymentDate:r,emptyTransactions:!0,transactions:[]}),u.push("/authpagehome/stats"))})).catch((function(e){console.log("Error getting document:",e)})),i(),r(!1)}},(function(e){e.isSubmitting;return r.a.createElement(lt,null,r.a.createElement(ft,{placeholder:"Your month salary",type:"number",name:"salary"}),r.a.createElement(J,{name:"salary",component:"div"}),r.a.createElement(st,{value:c,onChange:function(e){return o(e.target.value)}},r.a.createElement("optgroup",{label:"Currency"},pt.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(mt,{type:"submit"},"Save"))})))})),bt=Object(pe.b)(null,(function(e){return{userInfo:function(n,t){return e(function(e,n){return{type:"ADD_INFO",email:e,uid:n}}(n,t))}}}))((function(e){var n=e.userInfo,t=Object(f.h)().pathname,i=Object(a.useState)(!1),c=Object(C.a)(i,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){t.includes("firstuserwallet")?u(!0):u(!1),n&&W.onAuthStateChanged((function(e){var t=e.email,a=e.uid;n(t,a)}))}),[t]),r.a.createElement(r.a.Fragment,null,o?null:r.a.createElement(ze,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/authpagehome/stats",component:Un}),r.a.createElement(f.b,{path:"/authpagehome/transactions",component:mn}),r.a.createElement(f.b,{path:"/authpagehome/newtransaction",component:Dn}),r.a.createElement(f.b,{path:"/authpagehome/settings",component:nt}),r.a.createElement(f.b,{path:"/authpagehome/firstuserwallet",component:ht})))})),vt=Object(pe.b)((function(e){return{auth:e.auth.auth}}),null)((function(e){var n=e.component,t=e.path,a=e.auth,i=(Object(p.a)(e,["component","path","auth"]),a);return r.a.createElement(f.b,{path:t,render:function(e){return i?r.a.createElement(n,e):r.a.createElement(f.a,{to:"/"})}})})),gt=function(){return r.a.createElement(m.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(o.a,{theme:d},r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:P}),r.a.createElement(f.b,{path:"/register",component:fe}),r.a.createElement(f.b,{path:"/login",component:De}),r.a.createElement(vt,{path:"/authpagehome",component:bt})))))},Et=t(118),Ot=t(32),wt=t(83),jt={auth:!0};var xt={email:"",uid:null};var yt=Object(Ot.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CHANGE_STATUS":return Object(wt.a)(Object(wt.a)({},e),{},{auth:!0});default:return e}},User:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_INFO":return{email:n.email,uid:n.uid};default:return e}}}),St=t(119);var At=Object(Ot.createStore)(yt,Object(Et.composeWithDevTools)(Object(Ot.applyMiddleware)(St.a)));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{store:At},r.a.createElement(gt,null))),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.3c3f5b7a.chunk.js.map